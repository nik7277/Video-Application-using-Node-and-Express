<%- include ('partials/header') %>
<%- include ('partials/nav') %>

<!-- <div class="jumbotron">
  <h1 class="display-4">Vidzy Application</h1>
  <p class="lead">This is the list of most popular videos</p>
  <a class="btn btn-primary btn-lg" href="/videos/new" role="button">
  Add new video</a>
</div> -->



<div class="container">
  <!-- <div class="row">
    <div class="form-group sm-col-6">
      <select id="genre"  class="form-control">
        <option value="none">All</option>
        <option value="Fantasy">Fantasy</option>
        <option value="Drama">Drama</option>
        <option value="SciFi">SciFi</option>
      </select>
    </div>
    &nbsp;&nbsp;
    <div class="form-group sm-col-6">
      <input type="text" class="form-control" id="titletext" placeholder="Search titles">
    </div>
    &nbsp;&nbsp;
    <div class="form-group sm-col-6">
      <input type="button" class="form-control btn btn-primary" id="searchbtn" value="search"/>
    </div>
  </div> -->

  <div id = "itemContainer">
    <main role="main">
      <div class="carousel slide" id="myCarousel" data-ride="carousel">
        <ol class="carousel-indicators">
          <li class="active" data-target="#myCarousel" data-slide-to="0"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active"><img class="first-slide" src="/images/ATS.jpg" alt="T-Shirts" />
            <div class="container">
              <div class="carousel-caption text-left">
                <h1>T-Shirts</h1>
              </div>
            </div>
          </div>
          <div class="carousel-item"><img class="second-slide" src="/images/AF.jpeg" alt="Action Figures" />
            <div class="container">
              <div class="carousel-caption">
                <h1>Action Figures</h1>
              </div>
            </div>
          </div>
          <div class="carousel-item"><img class="third-slide" src="/images/PC.jpeg" alt="Phone Cases" />
            <div class="container">
              <div class="carousel-caption text-right">
                <h1>Phone Cases</h1>
              </div>
            </div>
          </div>
        </div><a class="carousel-control-prev" href="#myCarousel"
         role="button" data-slide="prev"><span class="carousel-control-prev-icon"
          aria-hidden="true"></span><span class="sr-only">Previous</span>
        </a><a class="carousel-control-next" href="#myCarousel" 
        role="button" data-slide="next"><span
         class="carousel-control-next-icon" aria-hidden="true"></span><span
          class="sr-only">Next</span></a>
      </div>

        
        <!-- <div class="row">
          <div class="col-lg-4"><img class="rounded-circle" src="images/Bowling.jpg" alt="Generic placeholder image" width="140" height="140" />
            <h2>Adult Games</h2>
            <p></p>
            <p><button class="btn btn-primary index-filtering" >Adults</button></p>
          </div>
          
          <div class="col-lg-4"><img class="rounded-circle" src="images/Carrom Board.jpg" alt="Generic placeholder image" width="140" height="140" />
            <h2>Board Games</h2>
            <p></p>
            <button class="btn btn-primary index-filtering Board-Games">Board Games</button>
          </div>
          
          <div class="col-lg-4"><img class="rounded-circle" src="images/kid games.jpg" width="140" height="140" />
            <h2>Kids Games</h2>
            <p></p>
            <p><a class="btn btn-primary index-filtering Kids" href="#" role="button">Kids</a></p>
          </div>
       </div>    -->
  <div class="container marketing">

    <div class="row">
      <div class="col-lg-4"><img class="rounded-circle" src="images/Bowling.jpg" alt="Generic placeholder image" width="140" height="140" />
        <h2>Adult Games</h2>
        <p></p>
        <p><button class="btn btn-primary index-filtering" >Adults</button></p>
      </div>
      
      <div class="col-lg-4"><img class="rounded-circle" src="images/Carrom Board.jpg" alt="Generic placeholder image" width="140" height="140" />
        <h2>Board Games</h2>
        <p></p>
        <button class="btn btn-primary index-filtering Board-Games">Board Games</button>
      </div>
      
      <div class="col-lg-4"><img class="rounded-circle" src="images/kid games.jpg" width="140" height="140" />
        <h2>Kids Games</h2>
        <p></p>
        <p><a class="btn btn-primary index-filtering Kids" href="#" role="button">Kids</a></p>
      </div>

  <!-- <div id ="videos" class="row">
  
    <% videos.forEach(function(video){ %>
      <div class="sm-col-3">
        <img src="images/<%= video.image %>" style="width:200px; height:200px;" class="img-thumbnail"/>
        <div class="caption"><a href="videos/<%= video._id %>"><%= video.title %></a></div>
      </div>


    <% }); %>
  </div> -->


<%- include ('partials/footer') %>

<!-- <script>
  const searchbtn = document.querySelector('#searchbtn');
  searchbtn.addEventListener('click', function() {
    let genre = document.getElementById('genre').value;
    let searchText = document.getElementById('titletext').value;
    var params = "genre="+genre+"&title="+searchText;

    // var xhttp = new XMLHttpRequest();
    // xhttp.responseType = 'json';
    // xhttp.onreadystatechange = function() {
      // if (this.readyState == 4 && this.status == 200) {
  //       var videos = this.response.videos;
      
  //       var str="";
  //       for(var i = 0; i < videos.length; i++) {
  //         var obj = videos[i];
  //         str+="<div class=\"sm-col-3\">";
  //         str+="<img src=\"images/"+obj.image+"\" style=\"width:200px; height:200px;\" class=\"img-thumbnail\"/>";
  //         str+="<div class=\"caption\"><a href=\"videos/"+obj._id +"\">"+obj.title+"</a></div>";
  //         str+="</div>";
  //       }
  //       if(str==""){
  //         str="<h2>No results found</h2>";
  //       }
  //       document.getElementById('videos').innerHTML=str;
  //     }
  //   };
  //   xhttp.open("GET", "/videos"+"?"+params, true);
  //   xhttp.send();
  // });

  $.ajax(
        {
            type: "GET" ,
            url: "/videos?"+params,
            dataType: "json",
            success: function(data) {
                console.log('AJAX call was successful!');
                var videos = data.videos;
                console.log('json data : ',videos);
                var str="";
                for(var i = 0; i < videos.length; i++) {
                  var obj = videos[i];
                  str+="<div class=\"sm-col-3\">";
                  str+="<img src=\"images/"+obj.image+"\" style=\"width:200px; height:200px;\" class=\"img-thumbnail\"/>";
                  str+="<div class=\"caption\"><a href=\"videos/"+obj._id +"\">"+obj.title+"</a></div>";
                  str+="</div>";
                }
                if(str==""){
                  str="<h2>No results found</h2>";
                }
                document.getElementById('videos').innerHTML=str;
            },
            error: function() {
                console.log('There was some error performing the AJAX call! Could not retrieve movies from database !!! ');
            }
        }
        );
   });       

</script> -->